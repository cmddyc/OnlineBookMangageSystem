{"remainingRequest":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\src\\views\\admin\\BookManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\src\\views\\admin\\BookManage.vue","mtime":1672320978710},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669884633585},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1669884625099},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669884633585},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1669884623589}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgYm9va0RhdGE6IFt7DQogICAgICAgICAgICAgICAgYm9va19uYW1lOiAn6auY562J5pWw5a2mJywNCiAgICAgICAgICAgICAgICBib29rX2F1dGhvcjogJ+WQjOa1juWkp+WtpicsDQogICAgICAgICAgICAgICAgYm9va19pbnRybzogJ+WlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlveWlvScsDQogICAgICAgICAgICAgICAgZV9ib29rOiAnLi4vQWR2YW5jZWRNYXRoLnBkZicsDQogICAgICAgICAgICAgICAgYm9va190eXBlczogJ+aVmeiCsicsDQogICAgICAgICAgICAgICAgYm9va19pbWc6ICdEOi9TcGlyaXRlZC9HMy9hLnBuZycsDQogICAgICAgICAgICAgICAgYm9va19wcmljZTogJzY2JywNCiAgICAgICAgICAgICAgICBpc2JuOiAnMTE0NTE0Jw0KICAgICAgICAgICAgfSwgew0KICAgICAgICAgICAgICAgIGJvb2tfbmFtZTogJ+mrmOmAn+mAgOWtpicsDQogICAgICAgICAgICAgICAgYm9va19wcmljZTogJ2luZmluaXRlJywNCg0KICAgICAgICAgICAgfV0sDQogICAgICAgICAgICBib29rTGlzdDogW3sNCiAgICAgICAgICAgICAgICBpc2JuOiAnMTE0NTE0JywNCiAgICAgICAgICAgICAgICBib29rX2lkOiAnMTJiMTAxJywNCiAgICAgICAgICAgICAgICBib3Jyb3dfdHlwZTogJ+WPr+WAn+mYhScsDQogICAgICAgICAgICAgICAgYnJva2VuX3R5cGU6ICfmraPluLgnDQogICAgICAgICAgICB9LHsNCiAgICAgICAgICAgICAgICBib3Jyb3dfdHlwZTogJ+W3suiiq3VzZXJfaWTlgJ/lh7rvvIzov5jkuabml6XmnJ8yMDIyLTEyLTIwJw0KICAgICAgICAgICAgfV0sDQogICAgICAgICAgICBuZXdCb29rOiB7fSwNCiAgICAgICAgICAgIGJvb2tMaXN0VmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBhZGRCb29rVmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBkaWFsb2dUaXRsZTogJycNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBzaG93Qm9va0xpc3Qocm93KSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+mmhuiXj+eahOaJgOacieOAiicgKyByb3cuYm9va19uYW1lICsgJ+OAi+WbvuS5puWIl+ihqCcNCiAgICAgICAgICAgIHRoaXMuYm9va0xpc3RWaXNpYmxlID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0Qm9va0luZm8ocm93KSB7DQogICAgICAgICAgICBpZiAocm93LmlzRWRpdCkgeyAvLyDlt7LlnKjnvJbovpENCiAgICAgICAgICAgICAgICByb3cuaXNFZGl0ID0gZmFsc2UNCiAgICAgICAgICAgIH0gZWxzZSB7IC8vIOaDs+imgee8lui+kQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNldChyb3csICdpc0VkaXQnLCB0cnVlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhZGRCb29rTGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuYWRkQm9va1Zpc2libGUgPSB0cnVlDQogICAgICAgIH0sDQogICAgICAgIGRlbEJvb2tMaXN0KHJvdykgew0KICAgICAgICAgICAgDQogICAgICAgIH0sDQogICAgICAgIGNsb3NlQWRkQm9vaygpIHsNCiAgICAgICAgICAgIHRoaXMuYWRkQm9va1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5ib29rTGlzdC5wdXNoKHRoaXMubmV3Qm9vaykNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlKHJvdywgY29sdW1uLCBjZWxsLCBldmVudCkge30NCiAgICB9DQp9DQo="},{"version":3,"sources":["BookManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookManage.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"text-align:center;user-select:none;\"><span class=\"gray-title\">书本管理</span></div>\r\n        <!-- 管理员查询区 -->\r\n        <el-row :gutter=\"20\" style=\"margin:2rem 0 0 8rem\">\r\n            <el-col :span=\"18\">\r\n                <el-input @keydown.enter.native=\"findBook\" placeholder=\"请输入查询的图书\" prefix-icon=\"el-icon-search\"\r\n                    v-model=\"bookName\">\r\n                    <el-button type=\"primary\" slot=\"append\" icon=\"el-icon-search\" @click=\"findBook\"></el-button>\r\n                </el-input>\r\n            </el-col>\r\n            <el-col :span=\"2\">\r\n                <el-button type=\"primary\" plain @click=\"\">添加书本</el-button>\r\n            </el-col>\r\n        </el-row>\r\n        <!-- 列表显示区域 -->\r\n        <el-table class=\"book-table\" :data=\"bookData\" style=\"width: 100%;\">\r\n            <el-table-column type=\"index\" align=\"center\" label=\"#\"></el-table-column>\r\n            <el-table-column label=\"缩略图\" align=\"center\" width=\"140\">\r\n                <!-- style=\"height:100px;width=30%\" :fit=\"fit\" -->\r\n                <template v-slot:default=\"scope\">\r\n                    <!-- <img :src=\"scope.row.book_img\" width=\"120\" height=\"138\" /> -->\r\n                    <el-image style=\"width: 120px; height: 138px\" :src=\"require('../../assets/book/01.jpeg')\" :fit=\"fit\" />\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"书名\" align=\"center\" prop=\"book_name\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.book_name }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.book_name\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"作者\" align=\"center\" prop=\"book_author\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.book_author }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.book_author\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"ISBN\" align=\"center\" prop=\"isbn\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.isbn }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.isbn\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"类别\" align=\"center\" prop=\"book_types\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.book_types }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.book_types\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"定价\" align=\"center\" prop=\"book_price\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.book_price }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.book_price\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"电子书\" align=\"center\" prop=\"e_book\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.e_book }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.e_book\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"图片路径\" align=\"center\" prop=\"book_img\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.book_img }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.book_img\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"简介\" align=\"center\" prop=\"book_intro\" width=\"400\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">{{ scope.row.book_intro }}</div>\r\n                    <div v-else>\r\n                        <el-input v-model=\"scope.row.book_intro\"></el-input>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"120\">\r\n                <template slot-scope=\"scope\">\r\n                    <div v-if=\"!scope.row.isEdit\">\r\n                        <el-link type=\"warning\" @click=\"editBookInfo(scope.row)\">编辑</el-link>\r\n                    </div>\r\n                    <div v-else>\r\n                        <el-link type=\"success\" @click=\"editBookInfo(scope.row)\">完成</el-link>\r\n                    </div>\r\n                    <!-- <el-link type=\"danger\" @click=\"editBookInfo(scope.row)\">{{ scope.row.isEdit ? '完成' : '编辑' }}</el-link> -->\r\n                    <!-- <h7>&nbsp &nbsp</h7> -->\r\n                    <el-link type=\"primary\" @click=\"showBookList(scope.row)\">管理</el-link>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-dialog :title=dialogTitle :visible.sync=\"bookListVisible\" width=\"70%\">\r\n            <el-row style=\"margin:0 0 1rem 0\">\r\n                <el-button type=\"primary\" @click=\"addBookList()\">添加{{dialogTitle}}</el-button>\r\n            </el-row>\r\n            <el-table :data=\"bookList\" height=\"400\" border style=\"width: 100%\">\r\n                <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n                <el-table-column prop=\"book_id\" label=\"书目ID\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"borrow_type\" label=\"借阅状态\" width=\"120\">\r\n                </el-table-column>\r\n                <!-- <el-table-column prop=\"borrow_detail\" label=\"借阅详情\" width=\"120\">\r\n                </el-table-column> -->\r\n                <el-table-column prop=\"broken_type\" label=\"损坏情况\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-link type=\"warning\" @click=\"editBookList(scope.row)\">编辑</el-link>\r\n                        <h7>&nbsp &nbsp</h7>\r\n                        <el-link type=\"danger\" @click=\"delBookList(scope.row)\">删除</el-link>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n        \r\n        <el-dialog :title=\"添加图书\" :visible.sync=\"addBookVisible\" width=\"60%\">\r\n            <span>\r\n                <el-form :model=\"newBook\" ref=\"newBook\" label-width=\"70px\">\r\n                    <el-form-item label=\"书名\">\r\n                        <el-input v-model=\"newBook.book_name\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"书目ID\">\r\n                        <el-input v-model=\"newBook.book_id\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"借阅状态\">\r\n                        <el-input v-model=\"newBook.borrow_type\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addBookVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"closeAddBook()\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return{\r\n            bookData: [{\r\n                book_name: '高等数学',\r\n                book_author: '同济大学',\r\n                book_intro: '好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好好',\r\n                e_book: '../AdvancedMath.pdf',\r\n                book_types: '教育',\r\n                book_img: 'D:/Spirited/G3/a.png',\r\n                book_price: '66',\r\n                isbn: '114514'\r\n            }, {\r\n                book_name: '高速退学',\r\n                book_price: 'infinite',\r\n\r\n            }],\r\n            bookList: [{\r\n                isbn: '114514',\r\n                book_id: '12b101',\r\n                borrow_type: '可借阅',\r\n                broken_type: '正常'\r\n            },{\r\n                borrow_type: '已被user_id借出，还书日期2022-12-20'\r\n            }],\r\n            newBook: {},\r\n            bookListVisible: false,\r\n            addBookVisible: false,\r\n            dialogTitle: ''\r\n        }\r\n    },\r\n    methods: {\r\n        showBookList(row) {\r\n            this.dialogTitle = '馆藏的所有《' + row.book_name + '》图书列表'\r\n            this.bookListVisible = true\r\n        },\r\n        editBookInfo(row) {\r\n            if (row.isEdit) { // 已在编辑\r\n                row.isEdit = false\r\n            } else { // 想要编辑\r\n                this.$set(row, 'isEdit', true)\r\n            }\r\n        },\r\n        addBookList() {\r\n            this.addBookVisible = true\r\n        },\r\n        delBookList(row) {\r\n            \r\n        },\r\n        closeAddBook() {\r\n            this.addBookVisible = false\r\n            this.bookList.push(this.newBook)\r\n        },\r\n        handle(row, column, cell, event) {}\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.book-table {\r\n    margin-top: 2rem;\r\n    border-radius: 0.5rem;\r\n}\r\n</style>"]}]}