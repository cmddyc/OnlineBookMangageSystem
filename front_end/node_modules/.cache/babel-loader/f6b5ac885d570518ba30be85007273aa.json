{"remainingRequest":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\src\\views\\Login.vue","mtime":1672322906956},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\babel.config.js","mtime":1642994568000},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669884633585},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1669884625099},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669884633585},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1669884623589}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxTcGlyaXRlZFxcRzNcXFx1OEY2Rlx1NEVGNlx1NURFNVx1N0EwQlxcQm9va01hbmFnZS0xLjAuMFxcZnJvbnRfZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXFNwaXJpdGVkXFxHM1xcXHU4RjZGXHU0RUY2XHU1REU1XHU3QTBCXFxCb29rTWFuYWdlLTEuMC4wXFxmcm9udF9lbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgJ2FuaW1hdGUuY3NzJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucywgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOeZu+W9leihqOWNleeahOaVsOaNrue7keWumuWvueixoQogICAgICBsb2dpbkRhdGE6IHsKICAgICAgICBtYWlsX251bTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIC8vIOazqOWGjOihqOWNlemqjOivgeWvueixoQogICAgICByZWdpc3RlckRhdGE6IHsKICAgICAgICBzdHVfaWQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG1haWxfbnVtOiAnJywKICAgICAgICB2YWxpOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgLy8g55So5oi35b2T5YmN5piv5ZCm5q2j5YeG5aSH55m75b2VCiAgICAgIGlzT25Mb2dpbjogdHJ1ZSwKICAgICAgLy8g55So5oi35b2T5YmN5piv5ZCm5bey57uP5ou/5Yiw6aqM6K+B56CBCiAgICAgIGlzR2V0VmFsaWRhdGU6IGZhbHNlLAogICAgICAvLyDpmLLmraLnlKjmiLfpopHnuYHor7fmsYLpqozor4EKICAgICAgaXNGcmVxVmFsaWRhdGU6IGZhbHNlLAogICAgICAvLyDnmbvlvZXooajljZXpqozor4Hop4TliJnlr7nosaEKICAgICAgbG9naW5Gb3JtUnVsZXM6IHsKICAgICAgICBtYWlsX251bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemCrueuseWcsOWdgCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDgsCiAgICAgICAgICBtZXNzYWdlOiAn6YKu566x5Zyw5Z2A6ZW/5bqm5LiN5ZCI5rOVJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNSwKICAgICAgICAgIG1heDogMTUsCiAgICAgICAgICBtZXNzYWdlOiAn5a+G56CB6ZW/5bqm5LiN5ZCI5rOVJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8vIOazqOWGjOihqOWNlemqjOivgeinhOWImeWvueixoQogICAgICByZWdpc3RlckZvcm1SdWxlczogewogICAgICAgIHN0dV9pZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaCqOeahOWtpuWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDcsCiAgICAgICAgICBtYXg6IDksCiAgICAgICAgICBtZXNzYWdlOiAn5a2m5Y+36ZW/5bqm5LiN5ZCI5rOVJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXkvaDnmoTmmLXnp7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAwLAogICAgICAgICAgbWF4OiAyMCwKICAgICAgICAgIG1lc3NhZ2U6ICfmmLXnp7Dplb/luqbkuI3lkIjms5UnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbWFpbF9udW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgq7nrrHlnLDlnYAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA4LAogICAgICAgICAgbWVzc2FnZTogJ+mCrueuseWcsOWdgOS4jeWQiOazlScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB2YWxpOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6aqM6K+B56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1lc3NhZ2U6ICfpqozor4HnoIHkuI3lkIjms5UnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA1LAogICAgICAgICAgbWF4OiAxNSwKICAgICAgICAgIG1lc3NhZ2U6ICflr4bnoIHplb/luqbkuI3lkIjms5UnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCd1c2VyQWJvdXQnLCB7CiAgICBzYXZlSW5mbzogJ1NBVkUnCiAgfSkpLCB7fSwgewogICAgLy8g55So5oi355m75b2VCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc3VibWl0ID0gewogICAgICAgICJ1c2VyIjogewogICAgICAgICAgIm1haWxfbnVtIjogdGhpcy5sb2dpbkRhdGEubWFpbF9udW0sCiAgICAgICAgICAicGFzc3dvcmQiOiB0aGlzLmxvZ2luRGF0YS5wYXNzd29yZAogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvclJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLnBvc3QoX3RoaXMuYmFzZVVybCArICcvdXNlcmxvZ2luJywgc3VibWl0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWQnLCByZXMuZGF0YS5pZCk7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgcmVzLmRhdGEubmFtZSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLnNhdmVJbmZvKCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+eZu+W9leaIkOWKnycsCiAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJyk7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlpLHotKUnLAogICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgc3dpdGNoU3RhdHVzOiBmdW5jdGlvbiBzd2l0Y2hTdGF0dXMoKSB7CiAgICAgIC8vIOWIh+aNoueVjOmdogogICAgICB0aGlzLmlzT25Mb2dpbiA9ICF0aGlzLmlzT25Mb2dpbjsKICAgIH0sCiAgICAvLyDnlKjmiLfms6jlhozlubbmj5DkuqTpqozor4HnoIEKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIga2V5LCBzdWJtaXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGtleSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX29uZV9rZXknKTsKICAgICAgICAgICAgICAgIHN1Ym1pdCA9IHsKICAgICAgICAgICAgICAgICAgInVzZXIiOiB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiBfdGhpczIucmVnaXN0ZXJEYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgInBhc3N3b3JkIjogX3RoaXMyLnJlZ2lzdGVyRGF0YS5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICAibWFpbF9udW0iOiBfdGhpczIucmVnaXN0ZXJEYXRhLm1haWxfbnVtLAogICAgICAgICAgICAgICAgICAgICJ2YWxpIjogX3RoaXMyLnJlZ2lzdGVyRGF0YS52YWxpLAogICAgICAgICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgICAgICAgICJzdHVfaWQiOiBfdGhpczIucmVnaXN0ZXJEYXRhLnN0dV9pZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF90aGlzMi4kcmVmcy5yZWdpc3RlckZvclJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAucG9zdChfdGhpczIuYmFzZVVybCArICcvdXNlcnJlZ2lzdGVyJywgc3VibWl0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZCcsIHJlcy5kYXRhLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgX3RoaXMyLnJlZ2lzdGVyRGF0YS5uYW1lKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zYXZlSW5mbygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfms6jlhozmiJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIsIGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5rOo5YaM5aSx6LSlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6I635Y+W6aqM6K+B56CBCiAgICBnZXRWYWxpZGF0ZTogZnVuY3Rpb24gZ2V0VmFsaWRhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy4kcmVmcy5yZWdpc3RlckZvclJlZi52YWxpZGF0ZUZpZWxkKCdtYWlsX251bScsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSwgZGF0YSwgcmVzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaXNGcmVxVmFsaWRhdGUgPSAhX3RoaXMzLmlzRnJlcVZhbGlkYXRlOyAvLyAyMHPlkI7lhYHorrjlho3mrKHor7fmsYIKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzRnJlcVZhbGlkYXRlID0gIV90aGlzMy5pc0ZyZXFWYWxpZGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDAgKiAyMCk7IC8vIOiOt+WPluaXtumXtOaIs+adpeS4uuacjeWKoeWZqOagh+ivhuacrOasoemqjOivgeeggeeahOivt+axguaXtumXtAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haWw6IF90aGlzMy5yZWdpc3RlckRhdGEubWFpbF9udW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdChfdGhpczMuYmFzZVVybCArICcvdmFsaWRhdGVNYWlsJywgZGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzR2V0VmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19vbmVfa2V5JywgcmVzLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmluZm8oewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfpqozor4HnoIHlj5HpgIHmiJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB5Y+R6YCB5aSx6LSlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"login_container\">\r\n    <transition-group appear name=\"animate__animated animated__bounce \" enter-active-class=\"animate__fadeIn\"\r\n      leave-active-class=\"animate__fadeOutDown\">\r\n      <div class=\"login_box\" key=\"1\" v-if=\"isOnLogin\">\r\n        <div class=\"form\">\r\n          <span>图书管理系统</span>\r\n          <el-form @submit.prevent='' ref='loginForRef' :model=\"loginData\" :rules=\"loginFormRules\" label-width>\r\n            <el-form-item prop=\"mail_num\">\r\n              <el-input @keydown.enter.native=\"login\" placeholder=\"邮箱地址\" v-model.trim=\"loginData.mail_num\"\r\n                prefix-icon=\"el-icon-user-solid\">\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\">\r\n              <el-input @keydown.enter.native=\"login\" placeholder=\"密码\" v-model.trim=\"loginData.password\" type=\"password\"\r\n                prefix-icon=\"el-icon-s-promotion\">\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"btns\">\r\n              <el-button :round=\"false\" :circle=\"false\" type=\"primary\" size=\"medium\" @click=\"login\">登录<i\r\n                  class=\"el-icon-upload el-icon--right\"></i></el-button>\r\n            </el-form-item>\r\n            <el-link class=\"link\" target=\"_blank\" @click=\"switchStatus\">还没有账户？点击注册</el-link>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </transition-group>\r\n    <div class=\"register_box\" v-if=\"!isOnLogin\">\r\n      <span>新用户注册</span>\r\n      <el-form @submit.prevent='' ref='registerForRef' :model=\"registerData\" :rules=\"registerFormRules\" label-width>\r\n        <el-form-item prop=\"stu_id\">\r\n          <el-input placeholder=\"id\" v-model.trim=\"registerData.stu_id\" prefix-icon=\"el-icon-user-solid\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"name\">\r\n          <el-input placeholder=\"昵称\" v-model.trim=\"registerData.name\" prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input show-password placeholder=\"密码\" type=\"password\" v-model.trim=\"registerData.password\"\r\n            prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"mail_num\">\r\n          <el-input placeholder=\"邮箱地址\" v-model.trim=\"registerData.mail_num\" prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"vali\">\r\n          <el-input :disabled=\"!isGetValidate\" placeholder=\"\" v-model.trim=\"registerData.vali\"\r\n            prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"btns\">\r\n          <el-button v-if=\"registerData.mail_num\" :disabled=\"isFreqValidate\" :round=\"false\" :circle=\"false\"\r\n            type=\"primary\" size=\"medium\" @click=\"getValidate\" style=\"float:left;\">\r\n            获取验证码<i class=\"el-icon-magic-stick el-icon--right\"></i></el-button>\r\n          <el-button :disabled=\"!registerData.vali\" v-if=\"isGetValidate&&registerData.mail_num\" :round=\"false\"\r\n            :circle=\"false\" type=\"primary\" size=\"medium\" @click=\"register\" style=\"float:right\">\r\n            确认注册 <i class=\"el-icon-key el-icon--right\"></i></el-button>\r\n            <el-button type=\"primary\" plain @click=\"\">注册</el-button>\r\n        </el-form-item>\r\n        <el-link class=\"link\" style=\"\" target=\"_blank\" @click=\"switchStatus\">已有账户？ 点击登录</el-link>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import 'animate.css'\r\n  import {\r\n    mapState,\r\n    mapMutations,\r\n    mapGetters,\r\n    mapActions\r\n  } from 'vuex'\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 登录表单的数据绑定对象\r\n        loginData: {\r\n          mail_num: '',\r\n          password: ''\r\n        },\r\n        // 注册表单验证对象\r\n        registerData: {\r\n          stu_id: '',\r\n          name: '',\r\n          mail_num: '',\r\n          vali: '',\r\n          password: ''\r\n        },\r\n        // 用户当前是否正准备登录\r\n        isOnLogin: true,\r\n        // 用户当前是否已经拿到验证码\r\n        isGetValidate: false,\r\n        // 防止用户频繁请求验证\r\n        isFreqValidate: false,\r\n        // 登录表单验证规则对象\r\n        loginFormRules: {\r\n          mail_num: [{\r\n              required: true,\r\n              message: '请输入邮箱地址',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 8,\r\n              message: '邮箱地址长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          password: [{\r\n              required: true,\r\n              message: '请输入密码',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 5,\r\n              max: 15,\r\n              message: '密码长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        },\r\n        // 注册表单验证规则对象\r\n        registerFormRules: {\r\n          stu_id: [{\r\n              required: true,\r\n              message: '请输入您的学号',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 7,\r\n              max: 9,\r\n              message: '学号长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          name: [{\r\n              required: true,\r\n              message: '请输入你的昵称',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 0,\r\n              max: 20,\r\n              message: '昵称长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          mail_num: [{\r\n              required: true,\r\n              message: '请输入邮箱地址',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 8,\r\n              message: '邮箱地址不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          vali: [{\r\n              required: true,\r\n              message: '请输入验证码',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 3,\r\n              message: '验证码不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          password: [{\r\n              required: true,\r\n              message: '请输入密码',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 5,\r\n              max: 15,\r\n              message: '密码长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations('userAbout', {\r\n        saveInfo: 'SAVE'\r\n      }),\r\n      // 用户登录\r\n      login() {\r\n        let submit = {\r\n          \"user\": {\r\n            \"mail_num\": this.loginData.mail_num,\r\n            \"password\": this.loginData.password\r\n          }\r\n        }\r\n        this.$refs.loginForRef.validate(async valid => {\r\n          if (!valid) return\r\n          await this.$http.post(this.baseUrl+'/userlogin', submit).then(res => {\r\n            window.localStorage.setItem('token', res.data.token)\r\n            window.localStorage.setItem('id', res.data.id)\r\n            window.localStorage.setItem('name', res.data.name)\r\n            this.saveInfo()\r\n            this.$message.success({\r\n              message: '登录成功',\r\n              duration: 1000\r\n            })\r\n            this.$router.push('/home')\r\n          }).catch(err => {\r\n            if (err) {\r\n              this.$message.error({\r\n                message: '登录失败',\r\n                duration: 1500\r\n              })\r\n            }\r\n          })\r\n        })\r\n      },\r\n      switchStatus() {\r\n        // 切换界面\r\n        this.isOnLogin = !this.isOnLogin\r\n      },\r\n      // 用户注册并提交验证码\r\n      async register() {\r\n        let key = window.localStorage.getItem('_one_key')\r\n        let submit = {\r\n          \"user\": {\r\n            \"name\": this.registerData.name,\r\n            \"password\": this.registerData.password,\r\n            \"mail_num\": this.registerData.mail_num,\r\n            \"vali\": this.registerData.vali,\r\n            key,\r\n            \"stu_id\": this.registerData.stu_id\r\n          }\r\n        }\r\n        this.$refs.registerForRef.validate(async valid => {\r\n          if (!valid) {\r\n            return\r\n          }\r\n          await this.$http.post(this.baseUrl+'/userregister', submit).then(res => {\r\n            window.localStorage.setItem('token', res.data.token)\r\n            window.localStorage.setItem('id', res.data.id)\r\n            window.localStorage.setItem('name', this.registerData.name)\r\n            this.saveInfo()\r\n            this.$message.success({\r\n              message: '注册成功',\r\n              duration: 2000\r\n            })\r\n            this.$router.push('/home')\r\n          }).catch((err, a) => {\r\n            if (err) {\r\n              this.$message.error({\r\n                message: '注册失败',\r\n                duration: 1500\r\n              })\r\n            }\r\n          })\r\n        })\r\n      },\r\n      // 获取验证码\r\n      async getValidate() {\r\n        this.$refs.registerForRef.validateField('mail_num', async valid => {\r\n          if (valid)\r\n            return\r\n          this.isFreqValidate = !this.isFreqValidate\r\n          // 20s后允许再次请求\r\n          setTimeout(() => {\r\n            this.isFreqValidate = !this.isFreqValidate\r\n          }, 1000 * 20)\r\n          // 获取时间戳来为服务器标识本次验证码的请求时间\r\n          let time = new Date().getTime();\r\n          let data = {\r\n            mail: this.registerData.mail_num,\r\n            timestamp: time\r\n          }\r\n          const res = await this.$http.post(this.baseUrl+'/validateMail', data)\r\n          if (res.status === 200) {\r\n            this.isGetValidate = true\r\n            window.localStorage.setItem('_one_key', res.data)\r\n            this.$message.info({\r\n              message: '验证码发送成功',\r\n              duration: 2000\r\n            })\r\n          } else {\r\n            this.$message.error({\r\n              message: '验证码发送失败',\r\n              duration: 2000\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .link {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n  }\r\n\r\n  .login_container {\r\n    background-image: url('../assets/bookBG.jpg');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    height: 100%;\r\n    user-select: none;\r\n  }\r\n\r\n  .login_box {\r\n    position: relative;\r\n    background-color: rgba(22, 22, 22, 0.322);\r\n    box-shadow: 0 0 1.3rem #aaa;\r\n    padding-top: 2rem;\r\n    padding-left: 3.5rem;\r\n    padding-right: 3.5rem;\r\n    padding-bottom: 5rem;\r\n    border-radius: 1rem;\r\n    width: 25rem;\r\n    height: 15.8rem;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    line-height: 4rem;\r\n  }\r\n\r\n  .register_box {\r\n    position: fixed;\r\n    background-color: rgba(22, 22, 22, 0.322);\r\n    box-shadow: 0 0 1.3rem #aaa;\r\n    padding-top: 1rem;\r\n    padding-left: 6rem;\r\n    padding-right: 6rem;\r\n    padding-bottom: 10rem;\r\n    border-radius: 1rem;\r\n    width: 22rem;\r\n    height: 20.8rem;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    line-height: 4rem;\r\n  }\r\n\r\n  span {\r\n    font-family: 'STHeiti';\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .btns {\r\n    padding-top: 1rem;\r\n  }\r\n</style>"],"sourceRoot":"src/views"}]}