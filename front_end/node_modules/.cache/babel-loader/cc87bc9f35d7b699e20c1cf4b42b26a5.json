{"remainingRequest":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\src\\views\\admin\\BookManage2.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\src\\views\\admin\\BookManage2.vue","mtime":1670230953976},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\babel.config.js","mtime":1642994568000},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669884633585},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1669884625099},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669884633585},{"path":"D:\\Spirited\\G3\\软件工程\\BookManage-1.0.0\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1669884623589}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxTcGlyaXRlZFxcRzNcXFx1OEY2Rlx1NEVGNlx1NURFNVx1N0EwQlxcQm9va01hbmFnZS0xLjAuMFxcZnJvbnRfZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2tOYW1lOiAnJywKICAgICAgYm9va0xpc3Q6IFtdLAogICAgICBmb3JtTGFiZWxBbGlnbjogewogICAgICAgIGFkZEJvb2tOYW1lOiAnJywKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIHN0YXRlbWVudDogJycKICAgICAgfSwKICAgICAgaXNBZGRCb29rOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZpbmRCb29rOiBmdW5jdGlvbiBmaW5kQm9vaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoX3RoaXMuYmFzZVVybCArICIvYWRtaW5HZXRCb29rcz9ib29rX25hbWU9Ii5jb25jYXQoX3RoaXMuYm9va05hbWUpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmJvb2tMaXN0ID0gcmVzLmRhdGEuYm9va0xpc3Q7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaG93QWRkQm9vazogZnVuY3Rpb24gc2hvd0FkZEJvb2soKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5pc0FkZEJvb2sgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRCb29rOiBmdW5jdGlvbiBhZGRCb29rKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBzdWJtaXQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3VibWl0ID0gewogICAgICAgICAgICAgICAgICBib29rX25hbWU6IF90aGlzMy5mb3JtTGFiZWxBbGlnbi5hZGRCb29rTmFtZSwKICAgICAgICAgICAgICAgICAgYXV0aG9yOiBfdGhpczMuZm9ybUxhYmVsQWxpZ24uYXV0aG9yLAogICAgICAgICAgICAgICAgICBzdGF0ZW1lbnQ6IF90aGlzMy5mb3JtTGFiZWxBbGlnbi5zdGF0ZW1lbnQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRodHRwLnBvc3QoX3RoaXMzLmJhc2VVcmwgKyAnL2FkbWluQWRkQm9vaycsIHN1Ym1pdCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip/vvIEnLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAKICAgICAgICAgICAgICAgICAgfSksIF90aGlzMy5mb3JtTGFiZWxBbGlnbi5hZGRCb29rTmFtZSA9ICcnOwogICAgICAgICAgICAgICAgICBfdGhpczMuZm9ybUxhYmVsQWxpZ24uYXV0aG9yID0gJyc7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5mb3JtTGFiZWxBbGlnbi5zdGF0ZW1lbnQgPSAnJzsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5oaWRlQWRkQm9vaygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5aSx6LSl77yM6K+356iN5ZCO5YaN6K+VJywKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoaWRlQWRkQm9vazogZnVuY3Rpb24gaGlkZUFkZEJvb2soKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5pc0FkZEJvb2sgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30KfTs="},{"version":3,"sources":["BookManage2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OAHA;AAQA,MAAA,SAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA,sCAAA,KAAA,CAAA,QAAA,CAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,WALA,yBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,IAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAPA;AAQA,IAAA,OARA,qBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA;AACA,kBAAA,SAAA,EAAA,MAAA,CAAA,cAAA,CAAA,WADA;AAEA,kBAAA,MAAA,EAAA,MAAA,CAAA,cAAA,CAAA,MAFA;AAGA,kBAAA,SAAA,EAAA,MAAA,CAAA,cAAA,CAAA;AAHA,iBADA;AAAA;AAAA,uBAMA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,OAAA,GAAA,eAAA,EAAA,MAAA,CANA;;AAAA;AAMA,gBAAA,GANA;;AAOA,oBAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,oBAAA,OAAA,EAAA,OADA;AAEA,oBAAA,QAAA,EAAA;AAFA,mBAAA,GAIA,MAAA,CAAA,cAAA,CAAA,WAAA,GAAA,EAJA;AAKA,kBAAA,MAAA,CAAA,cAAA,CAAA,MAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,cAAA,CAAA,SAAA,GAAA,EAAA;;AACA,kBAAA,MAAA,CAAA,WAAA;AACA,iBATA,MASA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,oBAAA,OAAA,EAAA,YADA;AAEA,oBAAA,QAAA,EAAA;AAFA,mBAAA;AAIA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA,KA9BA;AA+BA,IAAA,WA/BA,yBA+BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAjCA,GAbA;AAgDA,EAAA,OAhDA,qBAgDA,CAEA;AAlDA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"mask\" v-if=\"isAddBook\" @click=\"hideAddBook\"></div>\r\n    <div style=\"text-align:center;user-select:none;\"><span class=\"gray-title\">书本管理</span></div>\r\n    <!-- 管理员查询区 -->\r\n    <el-row :gutter=\"20\" style=\"margin:2rem 0 0 8rem\">\r\n      <el-col :span=\"18\">\r\n        <el-input @keydown.enter.native=\"findBook\" placeholder=\"请输入查询的图书\" prefix-icon=\"el-icon-search\"\r\n          v-model=\"bookName\">\r\n          <el-button type=\"primary\" slot=\"append\" icon=\"el-icon-search\" @click=\"findBook\"></el-button>\r\n        </el-input>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <el-button type=\"primary\" @click=\"showAddBook\">添加书本</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 列表显示区域 -->\r\n    <el-table class=\"book-table\" :data=\"bookList\" style=\"width: 100%;\">\r\n      <el-table-column type=\"index\" align=\"center\" label=\"#\"></el-table-column>\r\n      <el-table-column label=\"书名\" align=\"center\" prop=\"book_name\"></el-table-column>\r\n      <el-table-column label=\"图书编号\" align=\"center\" prop=\"book_id\"></el-table-column>\r\n      <el-table-column label=\"作者\" align=\"center\" prop=\"author\"></el-table-column>\r\n      <el-table-column label=\"状态\" align=\"center\" prop=\"state\"></el-table-column>\r\n    </el-table>\r\n    <!-- 书本添加区 -->\r\n    <div class=\"addBook-box\" v-if=\"isAddBook\">\r\n      <el-form label-position=\"left\" label-width=\"80px\" :model=\"formLabelAlign\">\r\n        <el-form-item label=\"书名\">\r\n          <el-input v-model=\"formLabelAlign.addBookName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\">\r\n          <el-input v-model=\"formLabelAlign.author\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"书本描述\">\r\n          <el-input v-model=\"formLabelAlign.statement\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button plain @click=\"addBook\">确认添加</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        bookName: '',\r\n        bookList: [],\r\n        formLabelAlign: {\r\n          addBookName: '',\r\n          author: '',\r\n          statement: ''\r\n        },\r\n        isAddBook: false\r\n      }\r\n    },\r\n    methods: {\r\n      async findBook() {\r\n        const res = await this.$http.get(this.baseUrl+`/adminGetBooks?book_name=${this.bookName}`)\r\n        this.bookList = res.data.bookList\r\n      },\r\n      async showAddBook() {\r\n        this.isAddBook = true\r\n      },\r\n      async addBook() {\r\n        let submit = {\r\n          book_name: this.formLabelAlign.addBookName,\r\n          author: this.formLabelAlign.author,\r\n          statement: this.formLabelAlign.statement\r\n        }\r\n        const res = await this.$http.post(this.baseUrl+'/adminAddBook', submit)\r\n        if (res.status === 200) {\r\n          this.$message.success({\r\n              message: '添加成功！',\r\n              duration: 500\r\n            }),\r\n          this.formLabelAlign.addBookName = ''\r\n          this.formLabelAlign.author = ''\r\n          this.formLabelAlign.statement = ''\r\n          this.hideAddBook()\r\n        } else {\r\n          this.$message.error({\r\n            message: '添加失败，请稍后再试',\r\n            duration: 500\r\n          })\r\n        }\r\n      },\r\n      async hideAddBook() {\r\n        this.isAddBook = false\r\n      }\r\n    },\r\n    created() {\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .gray-title {\r\n    font-size: 2.2rem;\r\n    color: gray;\r\n    letter-spacing: 1rem;\r\n    text-shadow: 5px 5px 5px gray;\r\n  }\r\n\r\n  .book-table {\r\n    margin-top: 2rem;\r\n    border-radius: 0.5rem;\r\n  }\r\n\r\n  .addBook-box {\r\n    position: absolute;\r\n    background-color: #f2f5f8;\r\n    box-shadow: 0 0 1.3rem #aaa;\r\n    padding-top: 3.5rem;\r\n    padding-left: 3.5rem;\r\n    padding-right: 3.5rem;\r\n    padding-bottom: 2rem;\r\n    border-radius: 1rem;\r\n    width: 25rem;\r\n    height: 15.8rem;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    line-height: 4rem;\r\n    z-index: 10;\r\n  }\r\n\r\n  .mask {\r\n    position: absolute;\r\n    width: 90vw;\r\n    height: 80vh;\r\n  }\r\n</style>"],"sourceRoot":"src/views/admin"}]}